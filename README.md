### 这是一个基于BSC链的社区预测游戏合约，玩家通过持有并花费代币来参与对“社区情绪”的预测：
- **看涨（Up）** 或 **看跌（Down）**
- 游戏的核心是预测哪一方（涨或跌）会获得更多押注支持，从而决定代币的“做市操作”方向，帮助代币价格走势

#### 1. 参与条件
- 你必须持有至少 **20000 个 $赌狗**
- 每次押注花费固定 **100 个 $赌狗**
- 只能用个人钱包（EOA）操作，不能用合约地址押注（防刷）

#### 2. 游戏轮次机制
- 每轮预测持续 **1 小时**
- 轮次开始后，你可以随时调用 `betUp()`（看涨）或 `betDown()`（看跌）来押注
- 每押注一次，你的地址会被记录到对应阵营的名单中（用于后续抽奖）
- 系统默认给“涨”一方初始押注，防止完全平局
- 轮次结束条件：从轮次开始时间起满 1 小时后，任何人可以调用 `settleMarket()` 来结算轮次

#### 3. 轮次结算结果
结算时比较两方总押注金额（upAmount vs downAmount）：
- **如果涨方 ≥ 跌方**：涨方获胜
- **否则**：跌方获胜

结算会触发以下操作：

**A. 做市操作**
- **涨方赢**：使用做市基金池的部分BNB（50%）回购 $赌狗 到合约，然后**销毁其中30%**（增加稀缺性，支持价格上涨）
- **跌方赢**：合约抛售持有的 $赌狗（但单次抛售上限为流动性池中代币储备的5%，防大冲击），获得的BNB再分配回奖池（80%到做市基金池、10%到奖池、10%到抽奖池）

这个机制让社区预测直接影响代币的买入/卖出，实现“社区驱动的自动做市”

**B. 社区抽奖**
- 只在获胜方参与者中抽取 **1 名幸运儿**
- 幸运儿获得抽奖奖池的 **80% BNB** 奖励
- 如果没人参与获胜方，则无抽奖

#### 4. 税收分配
- 税费的40% 进入做市基金池
- 税费的25% 进入“奖池”（Pot，用于最后押注者奖励）
- 税费的15% 进入Battle奖池
- 税费的20% 直接转给创作者（creator）

#### 5. 最后押注者奖励（Last Bettor Bonus）
- 每当有人押注，会更新“最后押注者”（latestBettor）和一个 **15分钟 倒计时**
- 如果在倒计时结束前没人再押注：
    - 最后押注者自动获得奖池（Pot）的 **60%** 作为奖励：
        - 一半直接转 BNB
        - 另一半用 BNB 回购 $赌狗 并转给最后押注者
- 这个奖励在下次有人押注时自动触发发放（_payoutIfExpired）

#### 6. 如何玩（步骤）
1. 持有至少 1 个 $TOKEN。
2. 在轮次进行中的 1 小时内：
    - Approve 合约花费你的 100 $赌狗（或更多，如果想多押）
    - 调用 `betUp()` 或 `betDown()` 押注。
3. 你可以多次押注来增加中奖概率。
4. 轮次结束后，等待Bot自动调用 `settleMarket()` 进行结算
5. 如果你是抽奖幸运儿，奖励自动转给你。
6. 关注最后押注者：尽量在轮次后期押注，成为“最后一人”抢 Pot 奖励

#### 总结：为什么好玩？
- 这不是单纯赌博，而是**社区集体预测**直接影响代币价格（涨赢→回购销毁，跌赢→抛售补池）
- 多重奖励：抽奖大奖 + 最后押注者奖金 + 长期持币受益于做市
- 所有资金来自交易税，无需额外注入，纯社区驱动
